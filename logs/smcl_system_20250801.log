2025-08-01 01:56:45,547 - notification.line_bot - WARNING - LINE Bot設定が不完全です。通知機能は無効になります。
2025-08-01 01:56:45,547 - __main__ - INFO - === 納品リスト処理システム開始 ===
2025-08-01 01:56:45,547 - __main__ - INFO - フェーズ1: スクレイピング処理開始
2025-08-01 01:56:45,547 - scraping.smcl_scraper - INFO - === 納品リストダウンロード 開始 ===
2025-08-01 01:56:45,547 - scraping.smcl_scraper - INFO - システム: Darwin (arm64)
2025-08-01 01:56:45,547 - WDM - INFO - ====== WebDriver manager ======
2025-08-01 01:56:49,652 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 01:56:49,735 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 01:56:49,773 - WDM - INFO - There is no [mac64] chromedriver "138.0.7204.183" for browser google-chrome "138.0.7204" in cache
2025-08-01 01:56:49,780 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 01:56:49,900 - WDM - INFO - WebDriver version 138.0.7204.183 selected
2025-08-01 01:56:49,902 - WDM - INFO - Modern chrome version https://storage.googleapis.com/chrome-for-testing-public/138.0.7204.183/mac-arm64/chromedriver-mac-arm64.zip
2025-08-01 01:56:49,902 - WDM - INFO - About to download new driver from https://storage.googleapis.com/chrome-for-testing-public/138.0.7204.183/mac-arm64/chromedriver-mac-arm64.zip
2025-08-01 01:56:50,005 - WDM - INFO - Driver downloading response is 200
2025-08-01 01:56:50,217 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 01:56:50,301 - WDM - INFO - Driver has been saved in cache [/Users/masaya/.wdm/drivers/chromedriver/mac64/138.0.7204.183]
2025-08-01 01:56:51,705 - scraping.smcl_scraper - INFO - ChromeDriver の初期化が完了しました
2025-08-01 01:56:51,705 - scraping.smcl_scraper - INFO - SMCLサイトにアクセス: https://smclweb.cs-cxchange.net/smcl/view/lin/EDS001OLIN0000.aspx
2025-08-01 01:56:52,025 - scraping.smcl_scraper - INFO - 現在のURL: https://smclweb.cs-cxchange.net/smcl/view/cmn/CommonError.aspx
2025-08-01 01:56:52,032 - scraping.smcl_scraper - INFO - ページタイトル: エラーページ
2025-08-01 01:56:52,042 - scraping.smcl_scraper - INFO - 再ログインボタンが見つかりました（ID指定）
2025-08-01 01:56:53,896 - scraping.smcl_scraper - INFO - 再ログインボタンをクリックしました
2025-08-01 01:56:56,904 - scraping.smcl_scraper - INFO - ログイン処理開始
2025-08-01 01:56:56,988 - scraping.smcl_scraper - INFO - 企業コード入力: I26S
2025-08-01 01:56:57,027 - scraping.smcl_scraper - INFO - ログインID入力: 0600200
2025-08-01 01:56:57,114 - scraping.smcl_scraper - INFO - パスワード入力完了
2025-08-01 01:56:58,375 - scraping.smcl_scraper - INFO - ログインボタンをクリックしました
2025-08-01 01:57:01,383 - scraping.smcl_scraper - INFO - ログインが完了しました
2025-08-01 01:57:01,383 - scraping.smcl_scraper - INFO - ユーザー選択処理開始
2025-08-01 01:57:01,410 - scraping.smcl_scraper - INFO - ユーザー選択リンク: 000000
2025-08-01 01:57:02,439 - scraping.smcl_scraper - INFO - ユーザー選択リンクをクリックしました
2025-08-01 01:57:05,447 - scraping.smcl_scraper - INFO - アプリトップへの遷移が完了しました
2025-08-01 01:57:05,447 - scraping.smcl_scraper - INFO - 処理ラウンド 1
2025-08-01 01:57:05,447 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:57:06,605 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 01:57:09,633 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 01:57:09,673 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 01:57:11,789 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 01:57:16,806 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 01:57:16,811 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 01:57:16,811 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 01:57:18,030 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 01:57:21,057 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 01:57:21,104 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 01:57:23,167 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 01:57:29,223 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 01:57:34,229 - scraping.smcl_scraper - INFO - 処理ラウンド 2
2025-08-01 01:57:34,229 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:57:35,286 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 01:57:38,316 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 01:57:38,352 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 01:57:40,402 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 01:57:45,424 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 01:57:45,430 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 01:57:45,430 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 01:57:46,475 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 01:57:49,500 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 01:57:49,539 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 01:57:51,642 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 01:57:57,702 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 01:58:02,712 - scraping.smcl_scraper - INFO - 処理ラウンド 3
2025-08-01 01:58:02,712 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:58:03,759 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 01:58:06,795 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 01:58:06,829 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 01:58:08,886 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 01:58:13,898 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 01:58:13,902 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 01:58:13,902 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 01:58:14,954 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 01:58:17,979 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 01:58:18,020 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 01:58:20,067 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 01:58:26,124 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 01:58:31,134 - scraping.smcl_scraper - INFO - 処理ラウンド 4
2025-08-01 01:58:31,134 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:58:32,186 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 01:58:35,210 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 01:58:35,250 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 01:58:37,298 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 01:58:42,312 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 01:58:42,316 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 01:58:42,316 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 01:58:43,374 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 01:58:46,405 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 01:58:46,441 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 01:58:48,499 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 01:58:54,566 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 01:58:59,569 - scraping.smcl_scraper - INFO - 処理ラウンド 5
2025-08-01 01:58:59,570 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:59:00,634 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 01:59:03,664 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 01:59:03,696 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 01:59:05,752 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 01:59:10,764 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 01:59:10,768 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 01:59:10,768 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 01:59:11,811 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 01:59:14,837 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 01:59:14,876 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 01:59:16,931 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 01:59:22,972 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 01:59:27,980 - scraping.smcl_scraper - INFO - 処理ラウンド 6
2025-08-01 01:59:27,980 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:59:29,026 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 01:59:32,051 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 01:59:32,081 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 01:59:34,214 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 01:59:39,227 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 01:59:39,246 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 01:59:39,246 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 01:59:40,296 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 01:59:43,318 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 01:59:43,371 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 01:59:45,418 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 01:59:51,507 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 01:59:56,517 - scraping.smcl_scraper - INFO - 処理ラウンド 7
2025-08-01 01:59:56,517 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 01:59:57,561 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:00:00,585 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:00:00,621 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 02:00:02,669 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 02:00:07,682 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 02:00:07,685 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 02:00:07,686 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 02:00:08,729 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 02:00:11,762 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 02:00:11,800 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 02:00:13,856 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 02:00:19,914 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 02:00:24,925 - scraping.smcl_scraper - INFO - 処理ラウンド 8
2025-08-01 02:00:24,925 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 02:00:25,976 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:00:29,006 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:00:29,037 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 02:00:31,100 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 02:00:36,112 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 02:00:36,116 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 02:00:36,116 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 02:00:37,162 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 02:00:40,194 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 02:00:40,241 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 02:00:42,296 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 02:00:48,345 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 02:00:53,355 - scraping.smcl_scraper - INFO - 処理ラウンド 9
2025-08-01 02:00:53,355 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 02:00:54,425 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:00:57,453 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:00:57,494 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 02:00:59,557 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 02:01:04,569 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 02:01:04,572 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 02:01:04,573 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 02:01:05,629 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 02:01:08,653 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 02:01:08,699 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 02:01:10,740 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 02:01:16,801 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 02:01:21,812 - scraping.smcl_scraper - INFO - 処理ラウンド 10
2025-08-01 02:01:21,812 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 02:01:22,859 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:01:25,883 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:01:25,918 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 02:01:27,998 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 02:01:33,006 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 02:01:33,009 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 02:01:33,009 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 02:01:34,059 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 02:01:37,093 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 02:01:37,132 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 02:01:39,178 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 02:01:45,226 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 02:01:50,237 - scraping.smcl_scraper - WARNING - 最大試行回数(10)に達しました
2025-08-01 02:01:52,364 - scraping.smcl_scraper - INFO - ブラウザを閉じました
2025-08-01 02:01:52,365 - __main__ - ERROR - フェーズ1: スクレイピング処理が失敗しました
2025-08-01 02:09:12,080 - notification.line_bot - WARNING - LINE Bot設定が不完全です。通知機能は無効になります。
2025-08-01 02:09:12,080 - __main__ - INFO - === 納品リスト処理システム開始 ===
2025-08-01 02:09:12,080 - __main__ - INFO - フェーズ1: スクレイピング処理開始
2025-08-01 02:09:12,081 - scraping.smcl_scraper - INFO - === 納品リストダウンロード 開始 ===
2025-08-01 02:09:12,081 - scraping.smcl_scraper - INFO - システム: Darwin (arm64)
2025-08-01 02:09:12,081 - WDM - INFO - ====== WebDriver manager ======
2025-08-01 02:09:12,404 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 02:09:12,478 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 02:09:12,535 - WDM - INFO - Driver [/Users/masaya/.wdm/drivers/chromedriver/mac64/138.0.7204.183/chromedriver-mac-arm64/chromedriver] found in cache
2025-08-01 02:09:13,591 - scraping.smcl_scraper - INFO - ChromeDriver の初期化が完了しました
2025-08-01 02:09:13,592 - scraping.smcl_scraper - INFO - SMCLサイトにアクセス: https://smclweb.cs-cxchange.net/smcl/view/lin/EDS001OLIN0000.aspx
2025-08-01 02:09:13,865 - scraping.smcl_scraper - INFO - 現在のURL: https://smclweb.cs-cxchange.net/smcl/view/cmn/CommonError.aspx
2025-08-01 02:09:13,869 - scraping.smcl_scraper - INFO - ページタイトル: エラーページ
2025-08-01 02:09:13,876 - scraping.smcl_scraper - INFO - 再ログインボタンが見つかりました（ID指定）
2025-08-01 02:09:15,736 - scraping.smcl_scraper - INFO - 再ログインボタンをクリックしました
2025-08-01 02:09:18,745 - scraping.smcl_scraper - INFO - ログイン処理開始
2025-08-01 02:09:18,875 - scraping.smcl_scraper - INFO - 企業コード入力: I26S
2025-08-01 02:09:18,929 - scraping.smcl_scraper - INFO - ログインID入力: 0600200
2025-08-01 02:09:19,037 - scraping.smcl_scraper - INFO - パスワード入力完了
2025-08-01 02:09:20,311 - scraping.smcl_scraper - INFO - ログインボタンをクリックしました
2025-08-01 02:09:23,327 - scraping.smcl_scraper - INFO - ログインが完了しました
2025-08-01 02:09:23,328 - scraping.smcl_scraper - INFO - ユーザー選択処理開始
2025-08-01 02:09:23,355 - scraping.smcl_scraper - INFO - ユーザー選択リンク: 000000
2025-08-01 02:09:24,512 - scraping.smcl_scraper - INFO - ユーザー選択リンクをクリックしました
2025-08-01 02:10:02,476 - notification.line_bot - WARNING - LINE Bot設定が不完全です。通知機能は無効になります。
2025-08-01 02:10:02,476 - __main__ - INFO - === 納品リスト処理システム開始 ===
2025-08-01 02:10:02,476 - __main__ - INFO - フェーズ1: スクレイピング処理開始
2025-08-01 02:10:02,476 - scraping.smcl_scraper - INFO - === 納品リストダウンロード 開始 ===
2025-08-01 02:10:02,476 - scraping.smcl_scraper - INFO - システム: Darwin (arm64)
2025-08-01 02:10:02,476 - WDM - INFO - ====== WebDriver manager ======
2025-08-01 02:10:02,750 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 02:10:02,810 - WDM - INFO - Get LATEST chromedriver version for google-chrome
2025-08-01 02:10:02,857 - WDM - INFO - Driver [/Users/masaya/.wdm/drivers/chromedriver/mac64/138.0.7204.183/chromedriver-mac-arm64/chromedriver] found in cache
2025-08-01 02:10:04,367 - scraping.smcl_scraper - INFO - ChromeDriver の初期化が完了しました
2025-08-01 02:10:04,367 - scraping.smcl_scraper - INFO - SMCLサイトにアクセス: https://smclweb.cs-cxchange.net/smcl/view/lin/EDS001OLIN0000.aspx
2025-08-01 02:10:04,732 - scraping.smcl_scraper - INFO - 現在のURL: https://smclweb.cs-cxchange.net/smcl/view/cmn/CommonError.aspx
2025-08-01 02:10:04,735 - scraping.smcl_scraper - INFO - ページタイトル: エラーページ
2025-08-01 02:10:04,745 - scraping.smcl_scraper - INFO - 再ログインボタンが見つかりました（ID指定）
2025-08-01 02:10:06,633 - scraping.smcl_scraper - INFO - 再ログインボタンをクリックしました
2025-08-01 02:10:09,641 - scraping.smcl_scraper - INFO - ログイン処理開始
2025-08-01 02:10:09,764 - scraping.smcl_scraper - INFO - 企業コード入力: I26S
2025-08-01 02:10:09,815 - scraping.smcl_scraper - INFO - ログインID入力: 0600200
2025-08-01 02:10:09,874 - scraping.smcl_scraper - INFO - パスワード入力完了
2025-08-01 02:10:11,129 - scraping.smcl_scraper - INFO - ログインボタンをクリックしました
2025-08-01 02:10:14,144 - scraping.smcl_scraper - INFO - ログインが完了しました
2025-08-01 02:10:14,144 - scraping.smcl_scraper - INFO - ユーザー選択処理開始
2025-08-01 02:10:14,180 - scraping.smcl_scraper - INFO - ユーザー選択リンク: 000000
2025-08-01 02:10:15,222 - scraping.smcl_scraper - INFO - ユーザー選択リンクをクリックしました
2025-08-01 02:10:18,227 - scraping.smcl_scraper - INFO - アプリトップへの遷移が完了しました
2025-08-01 02:10:18,227 - scraping.smcl_scraper - INFO - 処理ラウンド 1
2025-08-01 02:10:18,227 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 02:10:19,439 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:10:22,491 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:10:22,568 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 02:10:24,737 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 02:10:29,754 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 02:10:29,766 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 02:10:29,766 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 02:10:30,992 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 02:10:34,024 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 02:10:34,084 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 02:10:36,318 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 02:10:42,398 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 02:10:47,411 - scraping.smcl_scraper - INFO - 処理ラウンド 2
2025-08-01 02:10:47,412 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 02:10:48,558 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:10:51,594 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:10:51,639 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 02:10:53,703 - scraping.smcl_scraper - INFO - 検索ボタンをクリックしました
2025-08-01 02:10:58,721 - scraping.smcl_scraper - INFO - 検索結果データ行数: 27
2025-08-01 02:10:58,725 - scraping.smcl_scraper - INFO - メッセージ要素が見つかりません（データがある可能性）
2025-08-01 02:10:58,726 - scraping.smcl_scraper - INFO - 受注伝票詳細処理開始
2025-08-01 02:10:59,938 - scraping.smcl_scraper - INFO - 受注伝票詳細リンクをクリックしました
2025-08-01 02:11:02,970 - scraping.smcl_scraper - INFO - 現在の印刷種類: 納品リストA
2025-08-01 02:11:03,019 - scraping.smcl_scraper - INFO - 変更後の印刷種類: 納品リストD
2025-08-01 02:11:05,220 - scraping.smcl_scraper - INFO - 印刷ボタンをクリックしました（ダウンロード開始）
2025-08-01 02:11:11,318 - scraping.smcl_scraper - INFO - チェックボックスをクリックしました
2025-08-01 02:11:16,329 - scraping.smcl_scraper - INFO - 処理ラウンド 3
2025-08-01 02:11:16,329 - scraping.smcl_scraper - INFO - 受注一覧遷移処理開始
2025-08-01 02:11:17,556 - scraping.smcl_scraper - INFO - 受注一覧タブをクリックしました
2025-08-01 02:11:20,591 - scraping.smcl_scraper - INFO - 現在の選択: 全て
2025-08-01 02:11:20,699 - scraping.smcl_scraper - INFO - 変更後の選択: 参照済
2025-08-01 03:38:25,720 - notification.line_bot - WARNING - LINE Bot設定が不完全です。通知機能は無効になります。
2025-08-01 03:38:25,720 - __main__ - INFO - === 納品リスト処理システム開始 ===
2025-08-01 03:38:25,720 - __main__ - INFO - フェーズ2: データ抽出処理開始
2025-08-01 03:38:25,720 - data.pdf_extractor - INFO - PDF抽出開始: /Users/masaya/project/nakahara/scraping-smacl/downloads/納品リストD_20250801021036.pdf
2025-08-01 03:38:25,741 - data.pdf_extractor - INFO - 納品書類を解析: 3 品目
2025-08-01 03:38:25,742 - data.pdf_extractor - INFO - PDF抽出完了: 1 件の納品書類を抽出
2025-08-01 03:38:25,742 - data.pdf_extractor - INFO - PDF抽出開始: /Users/masaya/project/nakahara/scraping-smacl/downloads/納品リストD_20250801021105.pdf
2025-08-01 03:38:25,757 - data.pdf_extractor - INFO - 納品書類を解析: 3 品目
2025-08-01 03:38:25,757 - data.pdf_extractor - INFO - PDF抽出完了: 1 件の納品書類を抽出
2025-08-01 03:38:25,757 - __main__ - INFO - 合計 2 件のデータを抽出しました
2025-08-01 03:38:25,759 - __main__ - INFO - === 処理完了 (処理時間: 0.0秒) ===
2025-08-01 04:57:15,957 - data.pdf_extractor - WARNING - pdfplumber がインストールされていません。PyMuPDF を使用します。
2025-08-01 05:00:23,945 - data.pdf_extractor - WARNING - pdfplumber がインストールされていません。PyMuPDF を使用します。
2025-08-01 08:45:08,259 - __main__ - INFO - === マスタ突合機能テスト開始 ===
2025-08-01 08:45:08,260 - __main__ - INFO - マスタExcelパス: /Users/masaya/project/nakahara/scraping-smacl/docs/角上魚類　配送依頼・出庫依頼.xlsx
2025-08-01 08:45:08,260 - __main__ - INFO - downloadsディレクトリ: /Users/masaya/project/nakahara/scraping-smacl/downloads
2025-08-01 08:45:08,260 - __main__ - INFO - 
--- ステップ1: PDFデータ抽出 ---
2025-08-01 08:45:08,260 - __main__ - INFO - PDF処理中: 納品リストD_20250801021036.pdf
2025-08-01 08:45:08,260 - data.pdf_extractor - INFO - PDF抽出開始: /Users/masaya/project/nakahara/scraping-smacl/downloads/納品リストD_20250801021036.pdf
2025-08-01 08:45:08,281 - data.pdf_extractor - INFO - 商品コードパターン「商品コード[：:\s]*(\d+)」で発見: ['134490']
2025-08-01 08:45:08,281 - data.pdf_extractor - INFO - 抽出された商品コード: ['134490']
2025-08-01 08:45:08,281 - data.pdf_extractor - INFO - 商品コード抽出: 134490
2025-08-01 08:45:08,281 - data.pdf_extractor - INFO - 納品書類を解析: 1 品目
2025-08-01 08:45:08,281 - data.pdf_extractor - INFO - PDF抽出完了: 1 件の納品書類を抽出
2025-08-01 08:45:08,281 - __main__ - INFO - PDF処理中: 納品リストD_20250801021105.pdf
2025-08-01 08:45:08,281 - data.pdf_extractor - INFO - PDF抽出開始: /Users/masaya/project/nakahara/scraping-smacl/downloads/納品リストD_20250801021105.pdf
2025-08-01 08:45:08,337 - data.pdf_extractor - INFO - 商品コードパターン「商品コード[：:\s]*(\d+)」で発見: ['134490']
2025-08-01 08:45:08,337 - data.pdf_extractor - INFO - 抽出された商品コード: ['134490']
2025-08-01 08:45:08,337 - data.pdf_extractor - INFO - 商品コード抽出: 134490
2025-08-01 08:45:08,337 - data.pdf_extractor - INFO - 納品書類を解析: 1 品目
2025-08-01 08:45:08,337 - data.pdf_extractor - INFO - PDF抽出完了: 1 件の納品書類を抽出
2025-08-01 08:45:08,337 - __main__ - INFO - 抽出した納品書類: 2件
2025-08-01 08:45:08,337 - __main__ - INFO - 納品書類 1: 納品リストD_20250801021036
2025-08-01 08:45:08,337 - __main__ - INFO -   アイテム 1: コード=134490, 名前=商品コード_134490
2025-08-01 08:45:08,337 - __main__ - INFO - 納品書類 2: 納品リストD_20250801021105
2025-08-01 08:45:08,337 - __main__ - INFO -   アイテム 1: コード=134490, 名前=商品コード_134490
2025-08-01 08:45:08,337 - __main__ - INFO - 
--- ステップ2: マスタデータ読み込み ---
2025-08-01 08:45:08,337 - data.excel_processor - INFO - マスタファイル読み込み開始: /Users/masaya/project/nakahara/scraping-smacl/docs/角上魚類　配送依頼・出庫依頼.xlsx
2025-08-01 08:45:08,375 - data.excel_processor - INFO - マスタシートのカラム: ['角上魚類商品コード', '東市商品コード', 'グループコード', '担当者', 'line', '荷印', '商品名', '入出庫_入荷規格', '入出庫_単位', '入出庫_重量/k', '入出庫_備考', 'Toms_入数', 'Toms_単位', 'Toms_売価', 'Toms_備考']
2025-08-01 08:45:08,377 - data.excel_processor - INFO - マスタデータ読み込み完了: 18 件
2025-08-01 08:45:08,377 - __main__ - INFO - マスタデータ読み込み完了: 18件
2025-08-01 08:45:08,377 - __main__ - INFO - マスタデータサンプル:
2025-08-01 08:45:08,377 - __main__ - INFO -   704720: 干カレイ1尾袋20
2025-08-01 08:45:08,377 - __main__ - INFO -   746030: 冷凍松いか開き（鶴ヶ島加工用）
2025-08-01 08:45:08,377 - __main__ - INFO -   222620: 冷凍鯖フィーレ30枚
2025-08-01 08:45:08,377 - __main__ - INFO -   224130: 冷凍メカジキ切身
2025-08-01 08:45:08,377 - __main__ - INFO -   741530: 冷凍メカジキ切身90魚漬
2025-08-01 08:45:08,377 - __main__ - INFO - 
--- ステップ3: マスタ突合 ---
2025-08-01 08:45:08,377 - data.excel_processor - INFO - マスタ付け合わせ処理開始
2025-08-01 08:45:08,377 - data.excel_processor - INFO - マスタ突合成功: コード=134490, 商品名=冷凍するめいかソーメン
2025-08-01 08:45:08,377 - data.excel_processor - INFO - 商品名補完: 134490 -> 冷凍するめいかソーメン
2025-08-01 08:45:08,377 - data.excel_processor - INFO - マスタ突合成功: コード=134490, 商品名=冷凍するめいかソーメン
2025-08-01 08:45:08,377 - data.excel_processor - INFO - 商品名補完: 134490 -> 冷凍するめいかソーメン
2025-08-01 08:45:08,378 - data.excel_processor - INFO - マスタ付け合わせ完了: 正常 2 件, エラー 0 件
2025-08-01 08:45:08,378 - __main__ - INFO - 突合結果: 正常データ=2件, エラーデータ=0件
2025-08-01 08:45:08,378 - __main__ - INFO - 正常データの詳細:
2025-08-01 08:45:08,378 - __main__ - INFO -   ✓ 134490: 冷凍するめいかソーメン
2025-08-01 08:45:08,378 - __main__ - INFO -   ✓ 134490: 冷凍するめいかソーメン
2025-08-01 08:45:08,378 - __main__ - INFO - 
=== テスト完了 ===
2025-08-01 08:45:22,716 - notification.line_bot - WARNING - LINE Bot設定が不完全です。通知機能は無効になります。
2025-08-01 08:45:22,716 - __main__ - INFO - === 納品リスト処理システム開始 ===
2025-08-01 08:45:22,716 - __main__ - INFO - フェーズ2: データ抽出処理開始
2025-08-01 08:45:22,717 - data.pdf_extractor - INFO - PDF抽出開始: /Users/masaya/project/nakahara/scraping-smacl/downloads/納品リストD_20250801021036.pdf
2025-08-01 08:45:22,736 - data.pdf_extractor - INFO - 商品コードパターン「商品コード[：:\s]*(\d+)」で発見: ['134490']
2025-08-01 08:45:22,737 - data.pdf_extractor - INFO - 抽出された商品コード: ['134490']
2025-08-01 08:45:22,737 - data.pdf_extractor - INFO - 商品コード抽出: 134490
2025-08-01 08:45:22,737 - data.pdf_extractor - INFO - 納品書類を解析: 1 品目
2025-08-01 08:45:22,737 - data.pdf_extractor - INFO - PDF抽出完了: 1 件の納品書類を抽出
2025-08-01 08:45:22,737 - data.pdf_extractor - INFO - PDF抽出開始: /Users/masaya/project/nakahara/scraping-smacl/downloads/納品リストD_20250801021105.pdf
2025-08-01 08:45:22,755 - data.pdf_extractor - INFO - 商品コードパターン「商品コード[：:\s]*(\d+)」で発見: ['134490']
2025-08-01 08:45:22,755 - data.pdf_extractor - INFO - 抽出された商品コード: ['134490']
2025-08-01 08:45:22,755 - data.pdf_extractor - INFO - 商品コード抽出: 134490
2025-08-01 08:45:22,755 - data.pdf_extractor - INFO - 納品書類を解析: 1 品目
2025-08-01 08:45:22,755 - data.pdf_extractor - INFO - PDF抽出完了: 1 件の納品書類を抽出
2025-08-01 08:45:22,755 - __main__ - INFO - 合計 2 件のデータを抽出しました
2025-08-01 08:45:22,755 - __main__ - INFO - フェーズ3: マスタ付け合わせ処理開始
2025-08-01 08:45:22,755 - data.excel_processor - INFO - マスタ付け合わせ処理開始
2025-08-01 08:45:22,755 - data.excel_processor - INFO - マスタファイル読み込み開始: /Users/masaya/project/nakahara/scraping-smacl/docs/角上魚類　配送依頼・出庫依頼.xlsx
2025-08-01 08:45:22,810 - data.excel_processor - INFO - マスタシートのカラム: ['角上魚類商品コード', '東市商品コード', 'グループコード', '担当者', 'line', '荷印', '商品名', '入出庫_入荷規格', '入出庫_単位', '入出庫_重量/k', '入出庫_備考', 'Toms_入数', 'Toms_単位', 'Toms_売価', 'Toms_備考']
2025-08-01 08:45:22,811 - data.excel_processor - INFO - マスタデータ読み込み完了: 18 件
2025-08-01 08:45:22,811 - data.excel_processor - INFO - マスタ突合成功: コード=134490, 商品名=冷凍するめいかソーメン
2025-08-01 08:45:22,811 - data.excel_processor - INFO - 商品名補完: 134490 -> 冷凍するめいかソーメン
2025-08-01 08:45:22,811 - data.excel_processor - INFO - マスタ突合成功: コード=134490, 商品名=冷凍するめいかソーメン
2025-08-01 08:45:22,811 - data.excel_processor - INFO - 商品名補完: 134490 -> 冷凍するめいかソーメン
2025-08-01 08:45:22,811 - data.excel_processor - INFO - マスタ付け合わせ完了: 正常 2 件, エラー 0 件
2025-08-01 08:45:22,812 - __main__ - INFO - エラーはありませんでした
2025-08-01 08:45:22,812 - __main__ - INFO - === 処理完了 (処理時間: 0.1秒) ===
